{% extends 'base.html' %}
{% load static %}
{% load staticfiles %}

{% block content %}
    <div class="row">
        <div class="small-7 columns">
            <h1>
                Timelines
            </h1>
        </div>
        <div class="small-5 columns">
            <ul class="inline-list">
                <li>
                    <button href="#" data-dropdown="drop1" aria-controls="drop1" aria-expanded="false"
                            class="button dropdown"><i class="fa fa-plus"></i> New
                    </button>
                    <br>
                    <ul id="drop1" data-dropdown-content class="f-dropdown" aria-hidden="true">
                        <li><a href="{% url 'timeline_create' %}"></i> Timeline </a></li>
                        <li><a href="{% url 'timeline_event_create' %}"> Event </a></li>
                        <li><a href="{% url 'timeline_text_create' %}"> Text </a></li>
                        <li><a href="{% url 'timeline_media_create' %}"> Media </a></li>
                    </ul>
                </li>
            </ul>
        </div>

        <div class="small-12 columns">
            <table width="100%">
                <thead>
                <tr>
                    <th>
                        Titel
                    </th>
                    <th>
                        Text
                    </th>
                    <th>
                        Media
                    </th>
                    <td>
                        Events
                    </td>
                </tr>
                </thead>
                <tbody>
                {% for timeline in object_list %}
                    <tr>
                        {% if timeline %}
                            <td>
                                <a href="{% url 'timeline_detail' timeline.pk %}">{{ timeline.title }}</a>

                            </td>
                            <td>
                                {% if timeline.text %}
                                    <a href="{% url 'timeline_text_detail' timeline.text.pk %}">{{ timeline.text.headline }}</a>
                                {% endif %}
                            </td>
                            <td>
                                {% if timeline.media %}
                                    <a href="{% url 'timeline_media_detail' timeline.media.pk %}">{{ timeline.media.caption }}</a>
                                {% endif %}
                            </td>
                            <td>
                                {% if timeline.event_set %}
                                    {% for event in timeline.event_set.all %}
                                        <a href="{% url 'timeline_event_detail' event.pk %}">{{ event.title }}:
                                            {{ event.start_date|date:"SHORT_DATE_FORMAT" }} -
                                            {{ event.end_date|date:"SHORT_DATE_FORMAT"  }}</a> <br>
                                    {% endfor %}
                                {% endif %}
                            </td>
                        {% endif %}
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>

    </div>
{% endblock content %}